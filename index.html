<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Learning HQ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Noto+Serif+TC:wght@600;900&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Import Map for Firebase -->
    <script type="importmap">
      {
        "imports": {
          "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
          "firebase/firestore": "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js",
          "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"
        }
      }
    </script>

    <style>
        :root {
            --bg: #f5f7ff;
            --text-main: #1a237e;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg);
            background-image: radial-gradient(#e8eaf6 1px, transparent 1px);
            background-size: 20px 20px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: var(--text-main);
        }

        h1, h2, .font-serif { font-family: 'Noto Serif TC', serif; }

        .header {
            text-align: center;
            margin-bottom: 40px;
            max-width: 900px;
        }

        .header h1 {
            font-family: 'Noto Serif TC', serif;
            color: var(--text-main);
            font-size: 3.5em; 
            font-weight: 900; 
            margin-bottom: 15px;
            letter-spacing: 1px;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.05);
        }

        .header p {
            color: #5c6bc0;
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        .home-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #3f51b5 0%, #5c6bc0 100%);
            color: white;
            padding: 15px 50px;
            border-radius: 9999px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.3em;
            box-shadow: 0 6px 15px rgba(63, 81, 181, 0.3);
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        .home-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 8px 20px rgba(63, 81, 181, 0.4); 
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            width: 100%;
            max-width: 1300px;
            margin-bottom: 40px;
        }

        .app-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            text-decoration: none;
            color: #333;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            border-top: 6px solid #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            position: relative;
            border: 1px solid rgba(0,0,0,0.05);
            min-height: 200px;
        }

        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.1);
        }

        /* Completed state styling is now handled dynamically in React */
        .app-card.completed {
            transform: scale(1.02);
            background-color: #ffffff; 
        }

        /* ËàäÁöÑÂúñÁ§∫Ê®£Âºè (Fallback use) */
        .card-icon-wrapper {
            font-size: 2.2em;
            margin-bottom: 12px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f5f5f5;
            overflow: hidden;
        }

        .card-title {
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 1.1em;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.4;
            color: #444;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .card-desc {
            font-size: 0.8em;
            color: #888;
            background: #f9f9f9;
            padding: 4px 10px;
            border-radius: 20px;
            font-family: monospace;
            margin-top: auto;
        }

        .card-checkbox {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 26px;
            height: 26px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            z-index: 20; /* Ensure it stays above images */
        }
        
        .card-checkbox:hover {
            transform: scale(1.1);
        }

        .card-checkbox.checked {
            color: white;
            font-weight: bold;
            font-size: 16px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }
        .status-loading { background-color: #fdd835; box-shadow: 0 0 5px #fdd835; }
        .status-success { background-color: #4caf50; box-shadow: 0 0 5px #4caf50; }
        .status-error { background-color: #ef5350; box-shadow: 0 0 5px #ef5350; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }

        .section-divider {
            grid-column: 1 / -1;
            display: flex;
            align-items: center;
            margin: 60px 0 30px 0;
            color: #333;
            font-family: 'Noto Serif TC', serif;
            font-size: 1.8em;
            font-weight: 900;
            text-shadow: 1px 1px 0px rgba(0,0,0,0.05);
        }
        .section-divider::before, .section-divider::after {
            content: "";
            flex: 1;
            border-bottom: 2px solid #e0e0e0;
        }
        .section-divider::before { margin-right: 20px; }
        .section-divider::after { margin-left: 20px; }

        .quick-user-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: white;
            border: 2px solid #c5cae9;
            color: #283593;
            padding: 8px 20px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1em;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .quick-user-btn:hover {
            background: #e8eaf6;
            border-color: #3f51b5;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        /* Êñ∞Â¢ûÔºöÈéñÂÆöÁãÄÊÖãÁöÑÊ®£Âºè */
        .card-locked {
            filter: grayscale(100%); /* ËÆäÊàêÈªëÁôΩ */
            opacity: 0.6;           /* ËÆäÂçäÈÄèÊòé */
            pointer-events: none;   /* Á¶ÅÊ≠¢ÈªûÊìä */
            cursor: default;
        }

    </style>
</head>
<body>

    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import { initializeApp } from "firebase/app";
        import { getFirestore, doc, setDoc, updateDoc, getDoc, onSnapshot, arrayUnion } from "firebase/firestore";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "firebase/auth";

        // ==========================================
        // 1. Firebase Config
        // ==========================================
        
        const firebaseConfig = {
            apiKey: "AIzaSyAxQFt76ZPXE7d0i1XeNZ1yiiD2WYNIfHs",
            authDomain: "chinese-learning-47f4d.firebaseapp.com",
            projectId: "chinese-learning-47f4d",
            storageBucket: "chinese-learning-47f4d.firebasestorage.app",
            messagingSenderId: "76289812052",
            appId: "1:76289812052:web:898384a916f9f341f62fc1"
        };

        const COLLECTION_NAME = 'English-Reading'; // Changed as requested
        const DOC_GLOBAL = 'global';

        let app, db, auth;

        try {
            if (firebaseConfig.apiKey) {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
            }
        } catch (e) {
            console.error("Firebase init failed:", e);
        }

        // ==========================================
        // 2. Data Structure (15 Categories)
        // ==========================================
        const generateRawData = () => {
            const sections = [
                { 
                    name: "Category 1: Gaming & Esports", 
                    color: "#6200ea", // Deep Purple
                    lightColor: "#ede7f6", 
                    icon: "üéÆ", 
                    titles: [
                        "The History of Mario (Áë™Âà©Ê≠êÁöÑÈÄ≤ÂåñÂè≤)", "How to Go Pro: Life of an Esports Player (Â¶Ç‰ΩïÊàêÁÇ∫ËÅ∑Ê•≠ÈõªÁ´∂ÈÅ∏ÊâãÔºü)", "Minecraft: Building a Virtual World (È∫•Â°äÔºöÊâìÈÄ†ËôõÊì¨‰∏ñÁïå)", "The Most Expensive Virtual Items Ever Sold (Âè≤‰∏äË≥£ÊúÄË≤¥ÁöÑËôõÊì¨ÂØ∂Áâ©)", "Why Do We Rage Quit? (ÁÇ∫‰ªÄÈ∫ºÁé©ÈÅäÊà≤ÊúÉÁàÜÊ∞£ÔºüÂøÉÁêÜÂ≠∏ÂàÜÊûê)", "Top 5 Cheat Codes in Gaming History (ÈÅäÊà≤Âè≤‰∏äÊúÄÂº∑ÁöÑ 5 ÂÄã‰ΩúÂºäÁ¢º)", "VR Gaming: The Future or a Fad? (VR ÈÅäÊà≤ÔºöÊú™‰æÜË∂®Âã¢ÈÇÑÊòØÊõáËä±‰∏ÄÁèæÔºü)", "The Story Behind League of Legends (Ëã±ÈõÑËÅØÁõüËÉåÂæåÁöÑÊïÖ‰∫ã)", "Game Glitches That Became Features (ËÆäÊàêÈÅäÊà≤ÁâπËâ≤ÁöÑ Bug)", "How Game Developers Make You Addicted (ÈÅäÊà≤ÈñãÁôºËÄÖÂ¶Ç‰ΩïËÆì‰Ω†‰∏äÁôÆ)"
                    ] 
                },
                { 
                    name: "Category 2: Sci-Fi, Tech & AI", 
                    color: "#00b0ff", // Light Blue
                    lightColor: "#e1f5fe", 
                    icon: "ü§ñ", 
                    titles: [
                        "Will AI Take Your Future Job? (AI ÊúÉÊê∂Ëµ∞‰Ω†Êú™‰æÜÁöÑÂ∑•‰ΩúÂóéÔºü)", "Living on Mars: Elon Musk's Dream (ÁÅ´ÊòüÁßªÊ∞ëÔºöÈ¶¨ÊñØÂÖãÁöÑÂ§¢ÊÉ≥)", "The Dark Web: What is it? (ÊöóÁ∂≤ÊòØ‰ªÄÈ∫ºÔºü)", "Flying Cars: Are We There Yet? (È£õÂ§©ËªäÈõ¢ÊàëÂÄëÈÇÑÊúâÂ§öÈÅ†Ôºü)", "How Hackers Steal Your Passwords (Èß≠ÂÆ¢Â¶Ç‰ΩïÂÅ∑Ëµ∞‰Ω†ÁöÑÂØÜÁ¢º)", "Is Time Travel Possible? (ÊôÇÂÖâÊóÖË°åÁúüÁöÑÂèØË°åÂóéÔºü)", "The Science of Black Holes (ÈªëÊ¥ûÁöÑÁßëÂ≠∏)", "Robots That Can Feel Pain (ÊúÉÊúâÁóõË¶∫ÁöÑÊ©üÂô®‰∫∫)", "5 Gadgets You Wish You Had (5 ÂÄã‰Ω†Ë∂ÖÊÉ≥ÊìÅÊúâÁöÑÈªëÁßëÊäÄÂ∞èÁâ©)", "ChatGPT: Friend or Enemy? (ChatGPTÔºöÊòØÊúãÂèãÈÇÑÊòØÊïµ‰∫∫Ôºü)"
                    ] 
                },
                { 
                    name: "Category 3: Mystery, Horror & Urban Legends", 
                    color: "#d50000", // Red
                    lightColor: "#ffebee", 
                    icon: "üëª", 
                    titles: [
                        "The Mystery of the Bermuda Triangle (ÁôæÊÖïÈÅî‰∏âËßíÊ¥≤‰πãË¨é)", "Real-Life Zombies in Nature (Ëá™ÁÑ∂ÁïåÁúüÂØ¶Â≠òÂú®ÁöÑÊÆ≠Â±çÁîüÁâ©)", "The Legend of the Kraken (ÂåóÊ≠êÊµ∑ÊÄ™ÂÖãÊãâËÇØÔºöÊ∑±Êµ∑Â∑®Áç∏)", "5 Creepiest Urban Legends from Japan (5 ÂÄãÊúÄÊØõÁöÑÊó•Êú¨ÈÉΩÂ∏ÇÂÇ≥Ë™™)", "The Dyatlov Pass Incident (Ëø™‰∫ûÁâπÊ¥õÂ§´‰∫ã‰ª∂ÔºöÈõ™Â±±Èõ¢Â•áÊ≠ª‰∫°‰πãË¨é)", "Do Aliens Exist? The Area 51 Secrets (Â§ñÊòü‰∫∫Â≠òÂú®ÂóéÔºü51 ÂçÄÁöÑÁßòÂØÜ)", "The Curse of the Pharaohs (Ê≥ïËÄÅÁöÑË©õÂíí)", "Sleep Paralysis: A Demon in Your Room? (È¨ºÂ£ìÂ∫äÔºöÊàøÈñìË£°ÁöÑÊÉ°È≠îÔºü)", "The Mystery of the Nazca Lines (Á¥çÊñØÂç°Á∑ö‰πãË¨éÔºöÁµ¶Â§ñÊòü‰∫∫ÁúãÁöÑÁï´Ôºü)", "The Curse of the Hope Diamond (Â∏åÊúõÈëΩÁü≥ÁöÑË©õÂíí)"
                    ] 
                },
                { 
                    name: "Category 4: Sports, Sneakers & Extreme", 
                    color: "#ff6d00", // Orange
                    lightColor: "#fff3e0", 
                    icon: "üèÄ", 
                    titles: [
                        "The Mamba Mentality: Kobe Bryant (ÊõºÂ∑¥Á≤æÁ•ûÔºöKobe Bryant)", "Why Are Air Jordans So Expensive? (ÁÇ∫‰ªÄÈ∫º AJ ÈûãÈÄôÈ∫ºË≤¥Ôºü)", "Parkour: The Art of Movement (Ë∑ëÈÖ∑ÔºöÁßªÂãïÁöÑËóùË°ì)", "The Fastest Man Alive: Usain Bolt (Âú∞Ë°®ÊúÄÈÄüÁî∑ÔºöUsain Bolt)", "The Rise of UFC: MMA Fighting (UFC ÁöÑÂ¥õËµ∑ÔºöÁ∂úÂêàÊ†ºÈ¨•)", "F1 Racing: Speed and Science (F1 Ë≥ΩËªäÔºöÈÄüÂ∫¶ËàáÁßëÂ≠∏)", "How Athletes Train Their Brains (È†ÇÂ∞ñÈÅãÂãïÂì°Â¶Ç‰ΩïË®ìÁ∑¥Â§ßËÖ¶)", "The Most Dangerous Sports in the World (‰∏ñÁïå‰∏äÊúÄÂç±Èö™ÁöÑÈÅãÂãï)", "Sneaker Culture: Collecting for Cash (ÁêÉÈûãÊñáÂåñÔºöÁÇíÈûãË≥∫Èå¢Ôºü)", "Messi vs. Ronaldo: The GOAT Debate (Ê¢ÖË•ø vs CÁæÖÔºöË™∞ÊòØÂè≤‰∏äÊúÄ‰Ω≥Ôºü)"
                    ] 
                },
                { 
                    name: "Category 5: Movies, Anime & Pop Culture", 
                    color: "#c51162", // Pink
                    lightColor: "#fce4ec", 
                    icon: "üé¨", 
                    titles: [
                        "Why Do Superheroes Wear Capes? (ÁÇ∫‰ªÄÈ∫ºË∂ÖÁ¥öËã±ÈõÑË¶ÅÁ©øÊä´È¢®Ôºü)", "The Philosophy of Naruto (ÁÅ´ÂΩ±ÂøçËÄÖÁöÑÂì≤Â≠∏)", "Godzilla: Monster or Hero? (Âì•ÂêâÊãâÔºöÊÄ™Áç∏ÈÇÑÊòØËã±ÈõÑÔºü)", "How Special Effects Are Made (CGI) (ÈõªÂΩ±ÁâπÊïàÊòØÊÄéÈ∫ºÂÅöÂá∫‰æÜÁöÑÔºü)", "Marvel vs. DC: The Ultimate Battle (Êº´Â®Å vs DCÔºöÁµÇÊ•µÂ∞çÊ±∫)", "Studio Ghibli: Magic in Animation (ÂêâÂçúÂäõÂ∑•‰ΩúÂÆ§ÔºöÂãïÁï´ÁöÑÈ≠îÊ≥ï)", "Why One Piece is the #1 Anime (ÁÇ∫‰ªÄÈ∫ºËà™Êµ∑ÁéãÊòØÁ¨¨‰∏ÄÂêçÂãïÊº´Ôºü)", "YouTubers Who Became Millionaires (ËÆäÊàêÁôæËê¨ÂØåÁøÅÁöÑ YouTuber ÂÄë)", "K-Pop: Why It Took Over the World (K-Pop Â¶Ç‰ΩïÂ∏≠Êç≤ÂÖ®ÁêÉ)", "Meme Culture: The Language of the Internet (Ëø∑Âõ†ÊñáÂåñÔºöÁ∂≤Ë∑ØÁöÑË™ûË®Ä)"
                    ] 
                },
                { 
                    name: "Category 6: Strange Nature & Weird Facts", 
                    color: "#2e7d32", // Green
                    lightColor: "#e8f5e9", 
                    icon: "ü¶é", 
                    titles: [
                        "Animals That Can Kill You in Seconds (ÂπæÁßíÈêòÂ∞±ËÉΩÊÆ∫Ê≠ª‰Ω†ÁöÑÂãïÁâ©)", "The Immortal Jellyfish (Ê∞∏Áîü‰∏çÊ≠ªÁöÑÁáàÂ°îÊ∞¥ÊØç)", "Why Do Cats Purr? (Ë≤ìÂí™ÁÇ∫‰ªÄÈ∫ºÊúÉÂëºÂöïÔºü)", "Plants That Eat Meat (È£üËÇâÊ§çÁâ©)", "The Bloop: A Sound from the Deep Ocean (BloopÔºö‰æÜËá™Ê∑±Êµ∑ÁöÑÁ•ûÁßòÊÄ™ËÅ≤)", "Can Cockroaches Survive a Nuke? (ËüëËûÇÁúüÁöÑËÉΩÊå∫ÈÅéÊ†∏ÁàÜÂóéÔºü)", "The Megalodon: Is It Still Alive? (Â∑®ÈΩíÈØäÔºöÈÇÑÊ¥ªËëóÂóéÔºü)", "Why Do We Have Nightmares? (ÊàëÂÄëÁÇ∫‰ªÄÈ∫ºÊúÉÂÅöÊÉ°Â§¢Ôºü)", "Is Telepathy Possible? (ÂøÉÈõªÊÑüÊáâÊòØÊúâÂèØËÉΩÁöÑÂóéÔºü)", "10 Facts That Sound Fake But Are True (10 ÂÄãËÅΩËµ∑‰æÜÂÉèÂÅáÁöÑ‰ΩÜÂçªÊòØÁúüÁöÑ‰∫ãÂØ¶)"
                    ] 
                },
                { 
                    name: "Category 7: History, War & Weapons", 
                    color: "#FF3D00", // Fluorescent Orange (Updated)
                    lightColor: "#FFEBEE", 
                    icon: "‚öîÔ∏è", 
                    titles: [
                        "Samurai vs. Knights: Who Would Win? (Ê≠¶Â£´ vs È®éÂ£´ÔºöË™∞ÊúÉË¥èÔºü)", "The Secret Life of Ninjas (ÂøçËÄÖÁöÑÁßòÂØÜÁîüÊ¥ª)", "Snipers: The Invisible Soldiers (ÁãôÊìäÊâãÔºöÈö±ÂΩ¢Â£´ÂÖµ)", "The Trojan Horse: A Genius Trick (ÁâπÊ¥õ‰ºäÊú®È¶¨ÔºöÂ§©ÊâçÁöÑË©≠Ë®à)", "Tanks: Monsters of the Battlefield (Âù¶ÂÖãÔºöÊà∞Â†¥Â∑®Áç∏)", "Genghis Khan: The Mongol Empire (ÊàêÂêâÊÄùÊ±óÔºöËíôÂè§Â∏ùÂúã)", "The Real Pirates of the Caribbean (ÁúüÂØ¶ÁöÑÁ•ûÈ¨ºÂ•áËà™Êµ∑Áõú)", "Vikings: Raiders or Traders? (Á∂≠‰∫¨‰∫∫ÔºöÊé†Â•™ËÄÖÈÇÑÊòØË≤øÊòìÂïÜÔºü)", "The Great Wall: A Dragon of Stone (Ëê¨ÈáåÈï∑ÂüéÁöÑÁßòÂØÜ)", "Ancient Weapons That Were Ahead of Their Time (Ë∂ÖË∂äÊôÇ‰ª£ÁöÑÂè§‰ª£ÂÖµÂô®)"
                    ] 
                },
                { 
                    name: "Category 8: Survival & Adventure", 
                    color: "#558b2f", // Light Green
                    lightColor: "#f1f8e9", 
                    icon: "üèïÔ∏è", 
                    titles: [
                        "Surviving a Shark Attack (ÈÅ≠ÈÅáÈØäÈ≠öÊîªÊìäË©≤ÊÄéÈ∫ºËæ¶Ôºü)", "Lost in the Amazon Jungle (Ëø∑Â§±Âú®‰∫ûÈ¶¨ÈÅúÂè¢Êûó)", "Climbing Mount Everest: The Death Zone (ÊîÄÁôªËÅñÊØçÂ≥∞ÔºöÊ≠ª‰∫°Âú∞Â∏∂)", "Bear Grylls: The Man Who Eats Anything (Ë≤ùÁàæÔºö‰ªÄÈ∫ºÈÉΩÂêÉÁöÑÁî∑‰∫∫)", "Surviving on a Desert Island (ËçíÂ≥∂Ê±ÇÁîüÊåáÂçó)", "Deep Sea Exploration: The Last Frontier (Ê∑±Êµ∑Êé¢Èö™ÔºöÊúÄÂæåÁöÑÈÇäÁñÜ)", "What to Do If You Encounter a Bear (ÈÅáÂà∞ÁÜäË©≤ÊÄéÈ∫ºËæ¶Ôºü)", "Urban Exploration (Urbex): Risk and Reward (ÂüéÂ∏ÇÂª¢Â¢üÊé¢Èö™ÔºöÈ¢®Èö™ËàáÂõûÂ†±)", "Solo Travel Around the World at 16 (16 Ê≠≤Áç®Ëá™Áí∞ÈÅä‰∏ñÁïå)", "Van Life: Living on the Road (ËªäÂÆøÁîüÊ¥ªÔºö‰ΩèÂú®Ë∑Ø‰∏ä)"
                    ] 
                },
                { 
                    name: "Category 9: Teen Life, School & Psychology", 
                    color: "#0091ea", // Blue
                    lightColor: "#e1f5fe", 
                    icon: "üß†", 
                    titles: [
                        "How to Deal with Bullies (Â¶Ç‰ΩïÊáâÂ∞çÈú∏Âáå)", "The Science of Procrastination (ÊãñÂª∂ÁóáÁöÑÁßëÂ≠∏)", "How to Talk to Anyone (Â¶Ç‰ΩïË∑ü‰ªª‰Ωï‰∫∫ËÅäÂ§© - Á§æ‰∫§ÊäÄÂ∑ß)", "Why Do Parents Not Understand Us? (ÁÇ∫‰ªÄÈ∫ºÁà∂ÊØçÈÉΩ‰∏çÊáÇÊàëÂÄëÔºü)", "Exam Stress: How to Beat It (ËÄÉË©¶Â£ìÂäõÔºöÂ¶Ç‰ΩïÊìäÊïóÂÆÉ)", "Introverts vs. Extroverts (ÂÖßÂêëËÄÖ vs Â§ñÂêëËÄÖ)", "The Art of Saying \"No\" (ÊãíÁµïÁöÑËóùË°ì)", "Does Music Help You Study? (ËÅΩÈü≥Ê®ÇÁúüÁöÑÊúâÂä©ÊñºËÆÄÊõ∏ÂóéÔºü)", "First Dates: Dos and Don'ts (ÂàùÊ¨°Á¥ÑÊúÉÔºöË©≤ÂÅöËàá‰∏çË©≤ÂÅöÁöÑ‰∫ã)", "Building Confidence: Fake It Till You Make It (Âª∫Á´ãËá™‰ø°ÔºöÂÅáË£ù‰πÖ‰∫ÜÂ∞±ÊòØÁúüÁöÑ)"
                    ] 
                },
                { 
                    name: "Category 10: Just for Laughs & Daily Hacks", 
                    color: "#fbc02d", // Yellow
                    lightColor: "#fffde7", 
                    icon: "üòÇ", 
                    titles: [
                        "World's Dumbest Criminals (‰∏ñÁïå‰∏äÊúÄÁ¨®ÁöÑÁΩ™ÁäØ)", "How to Open a Bottle Without an Opener (Ê≤íÊúâÈñãÁì∂Âô®ÊÄéÈ∫ºÈñãÁì∂Â≠ê)", "Life Hacks for Lazy Students (Êá∂ÊÉ∞Â≠∏ÁîüÁöÑÁîüÊ¥ªÈß≠ÂÆ¢ÊäÄÂ∑ß)", "The History of Pizza (Êä´Ëñ©ÁöÑÊ≠∑Âè≤)", "Weird Laws Around the World (‰∏ñÁïåÂêÑÂú∞ÁöÑÊÄ™Áï∞Ê≥ïÂæã)", "How to Tie a Tie (Step by Step) (Â¶Ç‰ΩïÊâìÈ†òÂ∏∂)", "Why Do We Yawn? (ÊàëÂÄëÁÇ∫‰ªÄÈ∫ºÊúÉÊâìÂìàÊ¨†Ôºü)", "Optical Illusions That Will Trick Your Brain (Ê¨∫È®ôÂ§ßËÖ¶ÁöÑË¶ñÈåØË¶∫)", "The Most Boring Job in the World (‰∏ñÁïå‰∏äÊúÄÁÑ°ËÅäÁöÑÂ∑•‰Ωú)", "Advice to My 13-Year-Old Self (Áµ¶ 13 Ê≠≤Ëá™Â∑±ÁöÑÂª∫Ë≠∞)"
                    ] 
                },
                { 
                    name: "Category 11: Money, Hustle & Future Careers", 
                    color: "#00c853", // Green Accent
                    lightColor: "#e8f5e9", 
                    icon: "üí∞", 
                    titles: [
                        "How YouTubers Make Money (YouTuber Âà∞Â∫ïÊòØÊÄéÈ∫ºË≥∫Èå¢ÁöÑÔºü)", "What is Cryptocurrency? (‰ªÄÈ∫ºÊòØÂä†ÂØÜË≤®Âπ£ÔºüÁ∞°ÂñÆÊêûÊáÇÊØîÁâπÂπ£)", "The Story of Nike (Nike ÁöÑÂìÅÁâåÂÇ≥Â•áÔºöJust Do It)", "How to Save Money as a Teen (ÈùíÂ∞ëÂπ¥Â≠òÈå¢ÊîªÁï•)", "The Most Expensive NFT Ever Sold (Âè≤‰∏äÊúÄË≤¥ÁöÑ NFT ÊòØ‰∏ÄÂºµÂúñÔºü)", "Elon Musk‚Äôs Business Empire (‰ºäÈöÜ¬∑È¶¨ÊñØÂÖãÁöÑÂïÜÊ•≠Â∏ùÂúã)", "What is the Stock Market? (ËÇ°Â∏ÇÊòØ‰ªÄÈ∫ºÔºüÂÉèÈÅäÊà≤‰∏ÄÊ®£ÁöÑ‰∫§ÊòìÂ∏ÇÂ†¥)", "Side Hustles for Students (Â≠∏ÁîüÂèØ‰ª•ÂÅöÁöÑÂâØÊ•≠)", "Why is iPhone So Expensive? (ÁÇ∫‰ªÄÈ∫º iPhone Ë≥£ÈÄôÈ∫ºË≤¥Ôºü)", "Rich Dad Poor Dad: Key Lessons („ÄäÂØåÁà∏Áà∏ÔºåÁ™ÆÁà∏Áà∏„ÄãÁöÑÊ†∏ÂøÉËßÄÂøµ)"
                    ] 
                },
                { 
                    name: "Category 12: Extreme Geography & Earth Mysteries", 
                    color: "#00838f", // Cyan/Teal
                    lightColor: "#e0f7fa", 
                    icon: "üåç", 
                    titles: [
                        "The Most Dangerous Road in the World (‰∏ñÁïå‰∏äÊúÄÂç±Èö™ÁöÑÂÖ¨Ë∑ØÔºöÂåóÊ∞∏Âä†ÊñØË∑Ø)", "Snake Island: Humans Forbidden (ËõáÂ≥∂Ôºö‰∫∫È°ûÁ¶ÅÂú∞)", "The Door to Hell: Burning for Decades (Âú∞ÁçÑ‰πãÈñÄÔºöÁáÉÁáíÊï∏ÂçÅÂπ¥ÁöÑÂ§ßÂùë)", "Point Nemo: The Loneliest Place on Earth (Â∞ºËé´ÈªûÔºöÂú∞ÁêÉ‰∏äÊúÄÂ≠§Áç®ÁöÑÂú∞Êñπ)", "Why Antarctica is Actually a Desert (ÁÇ∫‰ªÄÈ∫ºÂçóÊ•µÂÖ∂ÂØ¶ÊòØÊ≤ôÊº†Ôºü)", "The Mariana Trench: Bottom of the World (È¶¨Èáå‰∫ûÁ¥çÊµ∑Ê∫ùÔºö‰∏ñÁïåÁöÑÂ∫ïÁ´Ø)", "The Dead Sea is Dying (Ê≠ªÊµ∑Ê≠£Âú®Ê≠ªÂéªÔºü)", "Mount Thor: The Greatest Drop on Earth (Á¥¢ÁàæÂ±±ÔºöÂú∞ÁêÉ‰∏äÊúÄÂ§ßÁöÑÂûÇÁõ¥ËêΩÂ∑Æ)", "Blood Falls: A Mystery in Antarctica (Ë°ÄÁÄëÂ∏ÉÔºöÂçóÊ•µÁöÑÁ•ûÁßòÁ¥ÖÊµÅ)", "Is Atlantis Real? Searching for the Lost City (‰∫ûÁâπËò≠ÊèêÊñØÊòØÁúüÁöÑÂóéÔºüÂ∞ãÊâæÂ§±ËêΩ‰πãÂüé)"
                    ] 
                },
                { 
                    name: "Category 13: Vehicles, Machines & Speed", 
                    color: "#304ffe", // Indigo Accent
                    lightColor: "#e8eaf6", 
                    icon: "üèéÔ∏è", 
                    titles: [
                        "Bugatti Chiron: Engineering Marvel (Â∏ÉÂä†Ëø™ ChironÔºöÂ∑•Á®ãÂ•áËπü)", "How Jet Engines Work (Âô¥Â∞ÑÂºïÊìéÊòØÂ¶Ç‰ΩïÈÅã‰ΩúÁöÑÔºü)", "Ferrari vs. Lamborghini: The Rivalry (Ê≥ïÊãâÂà© vs ËóçÂØ∂Â†ÖÂ∞ºÔºöÂÆøÊïµÁöÑÊïÖ‰∫ã)", "Self-Driving Cars: Safe or Scary? (Ëá™ÂãïÈßïÈßõÊ±ΩËªäÔºöÂÆâÂÖ®ÈÇÑÊòØÊÅêÊÄñÔºü)", "Drifting: The Art of Sliding (Áî©Â∞æÔºöÊªëË°åÁöÑËóùË°ì)", "Superyachts: Floating Palaces (Ë∂ÖÁ¥öÈÅäËâáÔºöÊµ∑‰∏äÁöÑÁßªÂãïÁöáÂÆÆ)", "The Concorde: Supersonic Travel (ÂçîÂíåËôüÔºöË∂ÖÈü≥ÈÄüÂÆ¢Ê©üÁöÑÂÇ≥Â•á)", "Monster Trucks: Big Wheels, Big Power (ÊÄ™Áç∏Âç°ËªäÔºöÂ§ßËº™Â≠êÁöÑÁ†¥Â£ûÂäõ)", "How Maglev Trains Float (Á£ÅÊµÆÂàóËªäÁÇ∫‰ªÄÈ∫ºÊúÉÊºÇÊµÆÔºü)", "Top Gun: Real Fighter Jets (ÊççË°õÊà∞Â£´ÔºöÁúüÂØ¶ÁöÑÊà∞È¨•Ê©ü)"
                    ] 
                },
                { 
                    name: "Category 14: Food Science & Weird Cuisine", 
                    color: "#e64a19", // Deep Orange
                    lightColor: "#fbe9e7", 
                    icon: "üçî", 
                    titles: [
                        "The World‚Äôs Hottest Pepper (‰∏ñÁïå‰∏äÊúÄËæ£ÁöÑËæ£Ê§íÔºöÂç°ÁæÖËêäÁ¥çÊ≠ªÁ•û)", "Why Does Durian Smell Bad? (ÁÇ∫‰ªÄÈ∫ºÊ¶¥Êß§ËÅûËµ∑‰æÜÈÄôÈ∫ºËá≠Ôºü)", "Space Food: What Astronauts Eat (Â§™Á©∫È£üÁâ©ÔºöÂ§™Á©∫‰∫∫Âà∞Â∫ïÂêÉ‰ªÄÈ∫ºÔºü)", "Fast Food Secrets They Don't Tell You (ÈÄüÈ£üÂ∫ó‰∏çÂëäË®¥‰Ω†ÁöÑÁßòÂØÜ)", "Insects: The Future of Food? (ÂêÉËü≤Ôºö‰∫∫È°ûÊú™‰æÜÁöÑÈ£üÁâ©‰æÜÊ∫êÔºü)", "Why Do We Get Brain Freeze? (ÂêÉÂÜ∞ÁÇ∫‰ªÄÈ∫ºÊúÉÈ†≠ÁóõÔºü)", "The Most Expensive Pizza in the World (‰∏ñÁïå‰∏äÊúÄË≤¥ÁöÑÊä´Ëñ©)", "Coffee: The Fuel of the Modern World (ÂíñÂï°ÔºöÁèæ‰ª£‰∏ñÁïåÁöÑÁáÉÊñô)", "Coca-Cola vs. Pepsi: The Cola Wars (ÂèØÂè£ÂèØÊ®Ç vs Áôæ‰∫ãÂèØÊ®ÇÔºöÂèØÊ®ÇÂ§ßÊà∞)", "Why Do Onions Make You Cry? (ÁÇ∫‰ªÄÈ∫ºÂàáÊ¥ãËî•ÊúÉÊµÅÊ∑öÔºü)"
                    ] 
                },
                { 
                    name: "Category 15: Savage Wildlife & Animal Superpowers", 
                    color: "#827717", // Lime
                    lightColor: "#f9fbe7", 
                    icon: "ü¶Å", 
                    titles: [
                        "The Titanoboa: Largest Snake Ever (Ê≥∞Âù¶Â∑®ËüíÔºöÂè≤‰∏äÊúÄÂ§ßÁöÑËõá)", "Hippos: Cute but Deadly (Ê≤≥È¶¨ÔºöÂèØÊÑõ‰ΩÜËá¥ÂëΩÁöÑÊÆ∫Êâã)", "The Mantis Shrimp: Super Punch (ÈõÄÂ∞æËû≥ËûÇËù¶ÔºöÊìÅÊúâË∂ÖÂº∑Êã≥ÊìäÂäõ)", "Orcas: The Wolves of the Sea (ËôéÈØ®ÔºöÊµ∑‰∏≠ÁöÑÁãºÁæ§Êà∞Ë°ì)", "The Pistol Shrimp: Louder Than a Gun (ÊßçËù¶ÔºöÊØîÊßçËÅ≤ÈÇÑÂ§ßËÅ≤ÁöÑÊîªÊìä)", "How Wolves Changed Rivers (Yellowstone) (ÁãºÁæ§Â¶Ç‰ΩïÊîπËÆäÊ≤≥ÊµÅÔºöÈªÉÁü≥ÂÖ¨ÂúíÁöÑÂ•áËπü)", "The Mimic Octopus: Master of Disguise (Êì¨ÊÖãÁ´†È≠öÔºöÂÅΩË£ùÂ§ßÂ∏´)", "The Pufferfish: Deadly Delicacy (Ê≤≥Ë±öÔºöËá¥ÂëΩÁöÑÁæéÂë≥)", "Electric Eels: Living Batteries (ÈõªÈ∞ªÔºöÊ¥ªÁîüÁîüÁöÑÈõªÊ±†)", "The Platypus: Nature‚Äôs Weirdest Creation (È¥®Âò¥Áç∏ÔºöÂ§ßËá™ÁÑ∂ÊúÄÊÄ™Áï∞ÁöÑÂâµÈÄ†)"
                    ] 
                }
            ];

            const result = [];
            let currentId = 1;

            sections.forEach(sec => {
                const sectionItems = [];
                
                sec.titles.forEach((title, index) => {
                    sectionItems.push({
                        id: currentId,
                        code: `English-Reading-${currentId}`,
                        title: title,
                        href: `English-Reading-${currentId}.html`
                    });
                    currentId++;
                });

                result.push({
                    title: sec.name,
                    color: sec.color,
                    lightColor: sec.lightColor,
                    icon: sec.icon,
                    items: sectionItems
                });
            });

            return result;
        };

        const RAW_DATA = generateRawData();
        const TOTAL_ITEMS = 150; 

        // ==========================================
        // Ë®≠ÂÆöÂ∑≤ÂÆåÊàêÂèØÈñ±ËÆÄÁöÑÊñáÁ´†Á∑®Ëôü (Âú®Ê≠§ËôïÊñ∞Â¢ûËôüÁ¢º‰ª•Ëß£ÈéñÊñáÁ´†)
        // ==========================================
        const UNLOCKED_IDS = [1, 3, 12, 14, 24, 29, 57, 69, 73, 116, 121, 122, 123, 127, 130];

        // ==========================================
        // 3. React Components
        // ==========================================

        const { useState, useEffect, useMemo } = React;

        // New Component: AppCard (Handles Individual Image Loading)
        const AppCard = ({ item, section, isDone, isUnlocked, toggleProgress }) => {
            const [imageError, setImageError] = useState(false);

            // Construct image path: images/p{id}.jpg
            // Example: images/p73.jpg for ID 73
            const imgSrc = `images/p${item.id}.jpg`;

            return (
                <a 
                    href={isUnlocked ? item.href : '#'}
                    target={isUnlocked ? "_blank" : "_self"}
                    className={`app-card ${isDone ? 'completed' : ''} ${!isUnlocked ? 'card-locked' : ''} group`}
                    style={{
                        // Dynamic Style Logic
                        borderTopColor: section.color,
                        border: isDone ? `4px solid ${section.color}` : `1px solid rgba(0,0,0,0.05)`,
                        borderTop: isDone ? `4px solid ${section.color}` : `6px solid ${section.color}`,
                        boxShadow: isDone ? `0 0 20px ${section.color}, 0 0 45px ${section.color}99` : undefined,
                        zIndex: isDone ? 10 : 1
                    }}
                >
                    <div 
                        className={`card-checkbox ${isDone ? 'checked' : ''}`} 
                        onClick={(e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            if(isUnlocked) toggleProgress(item.code);
                        }}
                        title={isDone ? "Mark as Incomplete" : "Mark as Complete"}
                        style={{
                            backgroundColor: isDone ? section.color : 'white',
                            borderColor: isDone ? section.color : '#ddd',
                            zIndex: 20
                        }}
                    >
                        {isDone && <span>‚úì</span>}
                    </div>

                    {/* Image Logic: Try loading image as large rectangle, fallback to icon on error */}
                    {!imageError ? (
                        // Rectangle Image Mode (Max width within padding)
                        <div className="w-full h-40 mb-4 rounded-lg overflow-hidden shadow-sm">
                            <img 
                                src={imgSrc}
                                alt={item.title}
                                className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                                onError={() => setImageError(true)}
                            />
                        </div>
                    ) : (
                        // Fallback Icon (Original Circle)
                        <div 
                            className="card-icon-wrapper"
                            style={{ 
                                color: section.color, 
                                backgroundColor: section.lightColor 
                            }}
                        >
                            {section.icon}
                        </div>
                    )}
                    
                    <div className="card-title" style={{ color: section.color }}>
                        {item.title}
                    </div>
                    
                    <div className="card-desc">
                        {item.code} {isUnlocked ? "" : "(Coming Soon)"}
                    </div>
                </a>
            );
        };

        const StatusLight = ({ status }) => {
            let dotClass = 'status-loading';
            let text = 'Connecting...';

            if (status === 'success') {
                dotClass = 'status-success';
                text = 'Synced';
            } else if (status === 'error') {
                dotClass = 'status-error';
                text = 'Sync Failed';
            } else if (status === 'loading') {
                dotClass = 'status-loading';
                text = 'Loading...';
            } else {
                dotClass = ''; 
                text = 'Offline Mode';
            }

            return (
                <div className="flex items-center text-xs text-gray-500 bg-white px-3 py-1 rounded-full shadow-sm border border-gray-100">
                    <span className={`status-dot ${dotClass}`}></span>
                    {text}
                </div>
            );
        };

        const App = () => {
            // UI States
            const [currentUser, setCurrentUser] = useState(null); 
            const [allUsers, setAllUsers] = useState([]);
            const [localProgress, setLocalProgress] = useState({}); 
            const [loginName, setLoginName] = useState("");
            const [showLogin, setShowLogin] = useState(false);
            
            // System States
            const [isAuthReady, setIsAuthReady] = useState(false);
            const [syncStatus, setSyncStatus] = useState("loading"); 

            const completedCount = useMemo(() => {
                return Object.values(localProgress).filter(v => v === true).length;
            }, [localProgress]);

            // 1. Init Auth
            useEffect(() => {
                if (!firebaseConfig.apiKey) {
                    setSyncStatus("offline");
                    const saved = localStorage.getItem('er_local_progress'); 
                    if (saved) setLocalProgress(JSON.parse(saved));
                    return;
                }

                const unsubscribeAuth = onAuthStateChanged(auth, (user) => {
                    if (user) {
                        console.log("Firebase Auth Ready:", user.uid);
                        setIsAuthReady(true);
                    } else {
                        console.log("Signing in anonymously...");
                        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
                        if (initialAuthToken) {
                            signInWithCustomToken(auth, initialAuthToken).catch(e => console.error("Token login failed", e));
                        } else {
                            signInAnonymously(auth).catch(e => console.error("Anon login failed", e));
                        }
                    }
                });

                return () => unsubscribeAuth();
            }, []);

            // 2. Fetch Users
            useEffect(() => {
                if (!isAuthReady || !db) return;

                setSyncStatus("loading");
                const unsubGlobal = onSnapshot(doc(db, COLLECTION_NAME, DOC_GLOBAL), (docSnap) => {
                    if (docSnap.exists()) {
                        setAllUsers(docSnap.data().users || []);
                    } else {
                        setDoc(doc(db, COLLECTION_NAME, DOC_GLOBAL), { users: [] }, { merge: true });
                        setAllUsers([]);
                    }
                    if (!currentUser) setSyncStatus("success");
                }, (error) => {
                    console.error("Fetch users error:", error);
                    setSyncStatus("error");
                });

                return () => unsubGlobal();
            }, [isAuthReady, currentUser]);

            // 3. Fetch User Progress
            useEffect(() => {
                if (!currentUser || !isAuthReady || !db) return;

                setSyncStatus('loading');
                const unsubUser = onSnapshot(doc(db, COLLECTION_NAME, currentUser), (docSnap) => {
                    if (docSnap.exists()) {
                        setLocalProgress(docSnap.data().progress || {});
                    } else {
                        setLocalProgress({});
                    }
                    setSyncStatus('success');
                }, (err) => {
                    console.error("Sync progress error:", err);
                    setSyncStatus('error');
                });

                return () => unsubUser();
            }, [currentUser, isAuthReady]);

            const handleLogin = async (name) => {
                if (!name.trim()) return;
                const uname = name.trim();
                
                if (isAuthReady && db) {
                    if (!allUsers.includes(uname)) {
                        try {
                            await updateDoc(doc(db, COLLECTION_NAME, DOC_GLOBAL), {
                                users: arrayUnion(uname)
                            });
                        } catch (e) {
                            await setDoc(doc(db, COLLECTION_NAME, DOC_GLOBAL), {
                                users: arrayUnion(uname)
                            }, { merge: true });
                        }
                    }
                } else {
                    console.log("Offline login, local only.");
                }
                
                setCurrentUser(uname);
                setShowLogin(false);
                setLoginName("");
            };

            const toggleProgress = async (code) => {
                const newVal = !localProgress[code];
                const newProgress = { ...localProgress, [code]: newVal };
                
                setLocalProgress(newProgress);

                if (currentUser && isAuthReady && db) {
                    try {
                        setSyncStatus('loading');
                        await setDoc(doc(db, COLLECTION_NAME, currentUser), {
                            progress: newProgress,
                            lastUpdated: new Date()
                        }, { merge: true });
                        setSyncStatus('success');
                    } catch (e) {
                        console.error("Save failed:", e);
                        setSyncStatus('error');
                    }
                } else {
                    localStorage.setItem('er_local_progress', JSON.stringify(newProgress)); 
                }
            };

            return (
                <div className="max-w-[1300px] mx-auto relative">
                    
                    {/* Header */}
                    <div className="header mx-auto">
                        <h1>English Learning HQ</h1>
                        <div className="flex flex-col items-center gap-4">
                            <p className="mb-0 text-xl font-medium">Ultimate English Reading Collection</p>
                            
                            {!currentUser && allUsers.length > 0 && (
                                <div className="w-full max-w-3xl my-2 p-4 bg-white/50 rounded-2xl border border-indigo-100">
                                    <p className="text-center text-indigo-800 mb-3 font-bold text-sm opacity-80">
                                        ‚ñº Click name to quick login ‚ñº
                                    </p>
                                    <div className="flex flex-wrap justify-center gap-3">
                                        {allUsers.map(u => (
                                            <button 
                                                key={u} 
                                                onClick={() => handleLogin(u)} 
                                                className="quick-user-btn"
                                            >
                                                üë§ {u}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            )}

                            <div className="flex items-center gap-4 mt-2">
                                <div className="text-lg font-bold text-indigo-900 bg-white px-4 py-1 rounded-full shadow-sm border border-indigo-100">
                                    Progress: {completedCount} / {TOTAL_ITEMS}
                                </div>
                                <StatusLight status={syncStatus} />
                            </div>

                            <div className="mt-2 flex items-center gap-3">
                                {currentUser ? (
                                    <div className="flex items-center gap-2 animate-fade-in">
                                        <span className="text-base text-gray-600 font-medium">Challenger:</span>
                                        <span className="font-bold text-lg text-indigo-700 bg-indigo-50 px-4 py-1 rounded-full shadow-sm">{currentUser}</span>
                                        <button 
                                            onClick={() => { setCurrentUser(null); setLocalProgress({}); }}
                                            className="text-sm text-gray-400 hover:text-gray-600 underline ml-2 font-medium"
                                        >
                                            Logout
                                        </button>
                                    </div>
                                ) : (
                                    <button 
                                        onClick={() => setShowLogin(true)}
                                        className="text-lg bg-white border-2 border-indigo-300 text-indigo-600 px-6 py-2 rounded-full hover:bg-indigo-50 transition shadow-sm font-bold flex items-center gap-2"
                                    >
                                        <span>üë§</span> Login to Save
                                    </button>
                                )}
                            </div>
                        </div>
                        
                        <div className="mt-8">
                            <a href="https://nicktsai88.github.io/List/" className="home-btn">
                                üéÅ Back to Learning Toolbox
                            </a>
                        </div>
                    </div>

                    {/* Login Modal */}
                    {showLogin && (
                        <div className="fixed inset-0 bg-black/30 flex items-center justify-center z-50 backdrop-blur-sm" onClick={() => setShowLogin(false)}>
                            <div className="bg-white p-6 rounded-xl shadow-xl w-full max-w-sm mx-4 animate-fade-in" onClick={e => e.stopPropagation()}>
                                <h3 className="text-xl font-bold text-center mb-4 text-indigo-900 font-serif">Login / Create User</h3>
                                <div className="flex gap-2">
                                    <input 
                                        type="text" 
                                        value={loginName}
                                        onChange={(e) => setLoginName(e.target.value)}
                                        placeholder="Enter new name..." 
                                        className="flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-300"
                                        onKeyDown={(e) => e.key === 'Enter' && handleLogin(loginName)}
                                    />
                                    <button 
                                        onClick={() => handleLogin(loginName)}
                                        className="bg-indigo-600 text-white px-4 py-2 rounded-lg font-bold hover:bg-indigo-700 transition"
                                    >
                                        Join
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Content Grid */}
                    <div className="pb-20">
                        {RAW_DATA.map((section, idx) => (
                            <div key={idx} className="mb-12">
                                <div className="section-divider">{section.title}</div>
                                <div className="app-grid">
                                    {section.items.map((item) => (
                                        <AppCard 
                                            key={item.code}
                                            item={item}
                                            section={section}
                                            isDone={!!localProgress[item.code]}
                                            isUnlocked={UNLOCKED_IDS.includes(item.id)}
                                            toggleProgress={toggleProgress}
                                        />
                                    ))}
                                </div>
                            </div>
                        ))}
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>